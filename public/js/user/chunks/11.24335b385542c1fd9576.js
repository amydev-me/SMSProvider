webpackJsonp([11],{192:function(t,a,e){var r=e(146);t.exports={template:'<div class="col-lg-12 col-xl-4">\n\t\t\t\t\t<div class="au-card m-b-30 pie">\n\t\t\t\t\t\t<div class="au-card-inner">\n\t\t\t\t\t\t\t<h3 class="title-2 m-b-40">Product Usage</h3>\n\t\t\t\t\t\t\t<canvas id="usage-chart"></canvas>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>',data:function(){return{status:["Api","Web App"],dataStatus:["Api","Web App"],chartData:[],chartColors:["rgba(0, 123, 255,0.9)","rgba(0, 123, 255,0.7)"],apiData:[]}},methods:{createPieChart:function(){var t=this;axios.get("/dashboard/product_usage?year="+this.year).then(function(a){var e=a.data;t.apiData=e.source;var r=t;t.apiData.forEach(function(t){var a=r.status.findIndex(function(a){return a==t.source}),n=t.total/e.allcount*100;r.chartData[a]=n.toFixed(0),r.dataStatus[a]=t.source+" "+n.toFixed(0)+"%"})}).then(function(){new r("usage-chart",{type:"pie",data:{labels:t.dataStatus,datasets:[{data:t.chartData,backgroundColor:t.chartColors,borderColor:["#fff"],borderWidth:1}]},options:{legend:{display:!0,position:"right"}}})})},getUrlParameter:function(){var t=Helper.getUrlParameter("year");this.year=t||(new Date).getFullYear()}},mounted:function(){this.getUrlParameter(),this.createPieChart()}}}});