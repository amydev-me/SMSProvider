webpackJsonp([14],{185:function(t,e,a){t.exports={components:{datePicker:function(t){return new Promise(function(t){t()}).then(function(){var e=[a(144)];t.apply(null,e)}.bind(this)).catch(a.oe)},VuePagination:function(t){return a.e(35).then(function(){var e=[a(215)];t.apply(null,e)}.bind(this)).catch(a.oe)}},data:function(){return{orders:[],invoiceDate:null,status:"all",pageSize:10,search:null,options:{format:"DD MMM YYYY",useCurrent:!1},order:{order_id:null,status:null,title:null,text:null},loading:!1,pagination:{total:0,per_page:2,from:1,to:0,current_page:1,last_page:1}}},methods:{getPaygOrders:function(){var t=this;axios.get("/admin/payg-order/orders").then(function(e){var a=e.data;t.pagination=a,t.orders=a.data}).catch(function(t){console.log(t)})},filter:function(){var t=this,e={invoice_date:this.invoiceDate,status:this.status,page_size:this.pageSize,search:this.search,page:this.pagination.current_page};axios.post("/admin/payg-order/filter",e).then(function(e){var a=e.data;t.pagination=a,t.orders=a.data}).catch(function(t){console.log(t)})},filterInvoice:function(){this.pagination.current_page=1,this.status="all",this.search=null,this.filter()},filterSearch:function(){this.pagination.current_page=1,this.filter()},showPaymentModal:function(t){this.order.order_id=t,this.order.title="Receive Payment",this.order.text="Do you want to complete this payment?",this.order.status="paid",$("#order_modal").modal("show")},showCancelModal:function(t){this.order.order_id=t,this.order.title="Cancel Order",this.order.text="Are you sure you want to cancel this order?",this.order.status="cancel",$("#order_modal").modal("show")},submit:function(){var t=this;this.loading=!0,axios.post("/admin/payg-order/update",this.order).then(function(e){var a=e.data;if(1==a.status)$("#order_modal").modal("hide"),Notification.success("Success"),t.filter();else{var r="";for(var n in a.message)a.message.hasOwnProperty(n)&&(r+=a.message[n]+"<br/>");Notification.error(r)}t.loading=!1}).catch(function(e){401==e.response.status||419==e.response.status?window.location.href="/admin/login":Notification.error("Error occured while deleting data."),t.loading=!1})},changeUppercase:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},formatPrettyDate:function(t){return null!=t?Helper.formatPrettyDate(t):""}},mounted:function(){this.getPaygOrders()}}}});