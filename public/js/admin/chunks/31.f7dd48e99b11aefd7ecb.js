webpackJsonp([31],{189:function(i,t,a){i.exports={components:{VuePagination:function(i){return a.e(35).then(function(){var t=[a(215)];i.apply(null,t)}.bind(this)).catch(a.oe)}},data:function(){return{admins:[],admin:{id:null,username:null,full_name:null,password:null,role:1},search:"",is_edit:!1,pagination:{total:0,per_page:2,from:1,to:0,current_page:1,last_page:1},remove_id:null,remove_admin:null}},methods:{getAdmins:function(){var i=this;axios.get("/admin/list/show?page="+this.pagination.current_page).then(function(t){var a=t.data;i.pagination=a,i.admins=a.data}).catch(function(i){console.log(i)})},searchClick:function(){this.pagination.current_page=1,this.filter()},filter:function(){var i=this;""==this.search?this.getAdmins():axios.get("/admin/list/search/"+this.search+"?page="+this.pagination.current_page).then(function(t){var a=t.data;i.pagination=a,i.admins=a.data}).catch(function(i){console.log(i)})},showAddModal:function(){this.clearData(),this.is_edit=!1,$("#adminModal").modal("show")},showEditModal:function(i){this.is_edit=!0,this.admin=Object.assign({},i),$("#adminModal").modal("show")},clearData:function(){this.is_edit=!1,this.admin.id=null,this.admin.username=null,this.admin.full_name=null,this.admin.password=null,this.admin.role=1,this.$validator.reset()},validateData:function(){var i=this;this.$validator.validateAll().then(function(t){if(t){var a=i.is_edit?"update":"create";axios.post("/admin/list/"+a,i.admin).then(function(t){var a=t.data;if(1==a.status)i.getAdmins(),$("#adminModal").modal("hide"),Notification.success("Success");else{var n="";for(var e in a.message)a.message.hasOwnProperty(e)&&(n+=a.message[e]+"<br/>");Notification.error(n)}}).catch(function(i){Notification.error("Error occurred while creating/updating data.")})}}).catch(function(i){console.log(i)})},showDeleteModal:function(i,t){this.clearData(),this.remove_id=i,this.remove_admin=t,$("#deleteModal").modal("show")},performDelete:function(){var i=this;axios.post("/admin/list/delete/"+this.remove_id).then(function(t){var a=t.data;a.success?(i.pagination.current_page=1,i.getAdmins(),$("#deleteModal").modal("hide"),Notification.success("Success")):Notification.warning(a.message)}).catch(function(i){Notification.error("Error occurred while deleting data.")})}},mounted:function(){this.getAdmins();var i=this;$("#countryModal").on("hidden.bs.modal",function(t){i.clearData()})}}}});