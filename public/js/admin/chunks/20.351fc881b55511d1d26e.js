webpackJsonp([20],{208:function(t,e,i){Vue.component("multiselect",i(143).default),t.exports={data:function(){return{gateway_id:null,is_edit:!1,endpoints:[],telecoms:[],endpoint:{id:null,gateway_id:null,telecom_id:null,sor_col:0,active_endpoint:!1},selected_telecom:null}},methods:{onToggleChanged:function(t){var e=this;axios.post("/admin/default-endpoint/set-point",{id:t.id,gateway_id:t.gateway_id,active_endpoint:t.active_endpoint}).then(function(t){t.data;e.getEndpoints()})},asyncTelecom:function(){var t=this;axios.get("/admin/telecom/select").then(function(e){var i=e.data;t.telecoms=i})},getEndpoints:function(){var t=this;null!=this.endpoint.gateway_id?axios.get("/admin/default-endpoint/list?gateway_id="+this.endpoint.gateway_id).then(function(e){var i=e.data;t.endpoints=i}).catch(function(t){Notification.error("Error occurred while creating/updating data.")}):Notification.error("Gatway id field required.")},showAddModal:function(){this.is_edit=!1,this.clearData(),$("#gatewayModal").modal("show")},showEditModal:function(t){this.clearData(),this.is_edit=!0;var e=Object.assign({},t);this.endpoint.id=e.id,this.endpoint.telecom_id=e.telecom_id,this.endpoint.active_endpoint=e.active_endpoint,e.telecom&&(this.selected_telecom=Object.assign({},{id:e.telecom.id,name:e.telecom.name})),$("#gatewayModal").modal("show")},clearData:function(){this.endpoint.id=null,this.endpoint.telecom_id=null,this.selected_telecom=null,this.$validator.reset()},validateData:function(){var t=this;this.$validator.validateAll().then(function(e){if(e){null!=t.selected_telecom&&(t.endpoint.telecom_id=t.selected_telecom.id);var i=t.is_edit?"update":"create";axios.post("/admin/default-endpoint/"+i,t.endpoint).then(function(e){e.data;t.getEndpoints(),$("#gatewayModal").modal("hide")}).catch(function(t){t.response.data.message&&Notification.error(t.response.data.message)})}}).catch(function(t){Notification.error("Opps! Something Went Wrong!")})},getUrlParam:function(){var t=Helper.getUrlParameter("gateway_id");t&&(this.endpoint.gateway_id=t,this.getEndpoints())}},mounted:function(){this.asyncTelecom(),this.getUrlParam()}}}});